{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///Users/yahya/Documents/FinalYearProject/tasko/app/login/page.tsx"],"sourcesContent":["\"use client\";\nimport React from \"react\";\nimport { signIn, getSession } from \"next-auth/react\";\nimport { useRouter } from \"next/navigation\";\nimport { useState } from \"react\";\nimport { UserType } from \"@prisma/client\";\nimport Admin from \"../admin/page\";\n\nexport default function Login() {\n  const [error, setError] = useState(\"\");\n  const router = useRouter();\n  \n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    setError(\"\");\n    \n    const formData = new FormData(e.currentTarget);\n    const username = formData.get(\"username\") as string;\n    const password = formData.get(\"password\") as string;\n\n    try {\n      const res = await signIn(\"credentials\", {\n        username,\n        password,\n        redirect: false,\n      });\n\n      console.log(\"SignIn response:\", res); // Debug log\n\n      if (res?.error) {\n        setError(`Authentication error: ${res.error}`);\n      } else if (res?.ok) {\n        // Get the user data after successful login\n        const session = await getSession();\n        \n        switch(session?.user?.userType) {\n          case \"ADMIN\":\n            router.push(\"/admin\");\n            break;\n          case \"TEAM_MANAGER\":\n            router.push(\"/manager\");\n            break;\n          case \"TEAM_MEMBER\":\n            router.push(\"/member\");\n            break;\n          default:\n            router.push(\"/\");\n        }\n      }\n    } catch (err) {\n      console.error(\"Login error:\", err);\n      setError(\"An unexpected error occurred\");\n    }\n  };\n\n  return (\n    <div className=\"relative min-h-screen bg-[#0b0f19] flex items-center justify-center overflow-hidden\">\n      {/* Background Blur Shapes */}\n      <div className=\"absolute top-[-150px] left-[-150px] w-[400px] h-[400px] bg-white opacity-10 blur-[120px] rounded-full\"></div>\n      <div className=\"absolute bottom-[-150px] right-[-150px] w-[400px] h-[400px] bg-white opacity-10 blur-[120px] rounded-full\"></div>\n\n      <div className=\"w-full max-w-md\">\n        <h2 className=\"text-2xl font-medium text-center text-white mb-6\">\n          Login Here\n        </h2>\n\n      <div className=\"bg-white shadow-lg rounded-lg p-8 w-full max-w-md border border-gray-200 relative z-10\">\n\n        {/* Login Form */}\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          {error && (\n            <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative\">\n              {error}\n            </div>\n          )}\n          {/* Username */}\n          <div>\n            <label htmlFor=\"username\" className=\"block text-sm font-bold text-gray-900 mb-2\">\n              <code>Username:</code>\n            </label>\n            <input\n              type=\"text\"\n              id=\"username\"\n              name=\"username\"\n              placeholder=\"Enter your username\"\n              className=\"w-full px-4 py-2 border border-gray-300 text-gray-900 rounded-md focus:ring-2 focus:ring-blue-700 focus:outline-none\"\n              required\n            />\n          </div>\n          {/* Password */}\n          <div>\n            <label htmlFor=\"password\" className=\"block text-sm font-bold text-gray-900 mb-2\">\n              <code>Password:</code>\n            </label>\n            <input\n              type=\"password\"\n              id=\"password\"\n              name=\"password\"\n              placeholder=\"Enter your password\"\n              className=\"w-full px-4 py-2 border border-gray-300 text-gray-900 rounded-md focus:ring-2 focus:ring-blue-700 focus:outline-none\"\n              required\n            />\n          </div>\n\n          {/* Button */}\n          <div>\n            <button\n              type=\"submit\"\n              className=\"w-1/2 mx-auto bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400 block\"\n            >\n              <code>Submit</code>\n            </button>\n          </div>\n        </form>\n      </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;;AAQe,SAAS;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,SAAS;QAET,MAAM,WAAW,IAAI,SAAS,EAAE,aAAa;QAC7C,MAAM,WAAW,SAAS,GAAG,CAAC;QAC9B,MAAM,WAAW,SAAS,GAAG,CAAC;QAE9B,IAAI;YACF,MAAM,MAAM,MAAM,CAAA,GAAA,8IAAA,CAAA,SAAM,AAAD,EAAE,eAAe;gBACtC;gBACA;gBACA,UAAU;YACZ;YAEA,QAAQ,GAAG,CAAC,oBAAoB,MAAM,YAAY;YAElD,IAAI,KAAK,OAAO;gBACd,SAAS,CAAC,sBAAsB,EAAE,IAAI,KAAK,EAAE;YAC/C,OAAO,IAAI,KAAK,IAAI;gBAClB,2CAA2C;gBAC3C,MAAM,UAAU,MAAM,CAAA,GAAA,8IAAA,CAAA,aAAU,AAAD;gBAE/B,OAAO,SAAS,MAAM;oBACpB,KAAK;wBACH,OAAO,IAAI,CAAC;wBACZ;oBACF,KAAK;wBACH,OAAO,IAAI,CAAC;wBACZ;oBACF,KAAK;wBACH,OAAO,IAAI,CAAC;wBACZ;oBACF;wBACE,OAAO,IAAI,CAAC;gBAChB;YACF;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,gBAAgB;YAC9B,SAAS;QACX;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;;;;;;0BACf,8OAAC;gBAAI,WAAU;;;;;;0BAEf,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAmD;;;;;;kCAInE,8OAAC;wBAAI,WAAU;kCAGb,cAAA,8OAAC;4BAAK,UAAU;4BAAc,WAAU;;gCACrC,uBACC,8OAAC;oCAAI,WAAU;8CACZ;;;;;;8CAIL,8OAAC;;sDACC,8OAAC;4CAAM,SAAQ;4CAAW,WAAU;sDAClC,cAAA,8OAAC;0DAAK;;;;;;;;;;;sDAER,8OAAC;4CACC,MAAK;4CACL,IAAG;4CACH,MAAK;4CACL,aAAY;4CACZ,WAAU;4CACV,QAAQ;;;;;;;;;;;;8CAIZ,8OAAC;;sDACC,8OAAC;4CAAM,SAAQ;4CAAW,WAAU;sDAClC,cAAA,8OAAC;0DAAK;;;;;;;;;;;sDAER,8OAAC;4CACC,MAAK;4CACL,IAAG;4CACH,MAAK;4CACL,aAAY;4CACZ,WAAU;4CACV,QAAQ;;;;;;;;;;;;8CAKZ,8OAAC;8CACC,cAAA,8OAAC;wCACC,MAAK;wCACL,WAAU;kDAEV,cAAA,8OAAC;sDAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQpB"}},
    {"offset": {"line": 248, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}