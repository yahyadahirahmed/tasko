{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///Users/yahya/Documents/FinalYearProject/tasko/app/components/KanbanBoard.tsx"],"sourcesContent":["\"use client\";\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\nimport { useState } from \"react\";\nimport { TaskState } from \"@prisma/client\";\n\ninterface Task {\n  id: string;\n  text: string;\n  state: TaskState;\n}\n\ninterface Column {\n  id: string;\n  title: string;\n  tasks: Task[];\n}\n\nexport default function KanbanBoard({ initialTasks }: { initialTasks: Task[] }) {\n  // Initialize columns with tasks\n  const [columns, setColumns] = useState<Column[]>([\n    {\n      id: \"TODO\",\n      title: \"To Do\",\n      tasks: initialTasks.filter(task => task.state === \"ToDo\"),\n    },\n    {\n      id: \"IN_PROGRESS\",\n      title: \"In Progress\",\n      tasks: initialTasks.filter(task => task.state === \"InProgress\"),\n    },\n    {\n      id: \"COMPLETED\",\n      title: \"Completed\",\n      tasks: initialTasks.filter(task => task.state === \"Completed\"),\n    },\n  ]);\n\n  const onDragEnd = (result: any) => {\n    const { source, destination } = result;\n\n    // If dropped outside a droppable area\n    if (!destination) return;\n\n    // If dropped in the same position\n    if (\n      source.droppableId === destination.droppableId &&\n      source.index === destination.index\n    ) {\n      return;\n    }\n\n    // Find source and destination columns\n    const sourceColumn = columns.find(col => col.id === source.droppableId);\n    const destColumn = columns.find(col => col.id === destination.droppableId);\n\n    if (!sourceColumn || !destColumn) return;\n\n    // Create new arrays\n    const newSourceTasks = Array.from(sourceColumn.tasks);\n    const newDestTasks = source.droppableId === destination.droppableId\n      ? newSourceTasks\n      : Array.from(destColumn.tasks);\n\n    // Remove task from source\n    const [movedTask] = newSourceTasks.splice(source.index, 1);\n\n    // Add task to destination\n    if (source.droppableId === destination.droppableId) {\n      newSourceTasks.splice(destination.index, 0, movedTask);\n    } else {\n      newDestTasks.splice(destination.index, 0, movedTask);\n    }\n\n    // Update columns state\n    setColumns(prevColumns => \n      prevColumns.map(col => {\n        if (col.id === source.droppableId) {\n          return { ...col, tasks: newSourceTasks };\n        }\n        if (col.id === destination.droppableId) {\n          return { ...col, tasks: newDestTasks };\n        }\n        return col;\n      })\n    );\n  };\n\n  return (\n    <div className=\"flex gap-4 p-4\">\n      <DragDropContext onDragEnd={onDragEnd}>\n        {columns.map(column => (\n          <div key={column.id} className=\"bg-gray-100 p-4 rounded-lg w-80\">\n            <h2 className=\"font-bold mb-4\">{column.title}</h2>\n            <Droppable \n              droppableId={column.id} \n              isDropDisabled={false}\n              isCombineEnabled={false}\n            >\n              {(provided) => (\n                <div\n                  {...provided.droppableProps}\n                  ref={provided.innerRef}\n                  className=\"min-h-[500px]\"\n                >\n                  {column.tasks.map((task, index) => (\n                    <Draggable\n                      key={task.id}\n                      draggableId={task.id}\n                      index={index}\n                    >\n                      {(provided) => (\n                        <div\n                          ref={provided.innerRef}\n                          {...provided.draggableProps}\n                          {...provided.dragHandleProps}\n                          className=\"bg-white p-4 mb-2 rounded shadow\"\n                        >\n                          {task.text}\n                        </div>\n                      )}\n                    </Draggable>\n                  ))}\n                  {provided.placeholder}\n                </div>\n              )}\n            </Droppable>\n          </div>\n        ))}\n      </DragDropContext>\n    </div>\n  );\n} "],"names":[],"mappings":";;;;AAEA;AADA;AADA;;;;AAiBe,SAAS,YAAY,EAAE,YAAY,EAA4B;IAC5E,gCAAgC;IAChC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAY;QAC/C;YACE,IAAI;YACJ,OAAO;YACP,OAAO,aAAa,MAAM,CAAC,CAAA,OAAQ,KAAK,KAAK,KAAK;QACpD;QACA;YACE,IAAI;YACJ,OAAO;YACP,OAAO,aAAa,MAAM,CAAC,CAAA,OAAQ,KAAK,KAAK,KAAK;QACpD;QACA;YACE,IAAI;YACJ,OAAO;YACP,OAAO,aAAa,MAAM,CAAC,CAAA,OAAQ,KAAK,KAAK,KAAK;QACpD;KACD;IAED,MAAM,YAAY,CAAC;QACjB,MAAM,EAAE,MAAM,EAAE,WAAW,EAAE,GAAG;QAEhC,sCAAsC;QACtC,IAAI,CAAC,aAAa;QAElB,kCAAkC;QAClC,IACE,OAAO,WAAW,KAAK,YAAY,WAAW,IAC9C,OAAO,KAAK,KAAK,YAAY,KAAK,EAClC;YACA;QACF;QAEA,sCAAsC;QACtC,MAAM,eAAe,QAAQ,IAAI,CAAC,CAAA,MAAO,IAAI,EAAE,KAAK,OAAO,WAAW;QACtE,MAAM,aAAa,QAAQ,IAAI,CAAC,CAAA,MAAO,IAAI,EAAE,KAAK,YAAY,WAAW;QAEzE,IAAI,CAAC,gBAAgB,CAAC,YAAY;QAElC,oBAAoB;QACpB,MAAM,iBAAiB,MAAM,IAAI,CAAC,aAAa,KAAK;QACpD,MAAM,eAAe,OAAO,WAAW,KAAK,YAAY,WAAW,GAC/D,iBACA,MAAM,IAAI,CAAC,WAAW,KAAK;QAE/B,0BAA0B;QAC1B,MAAM,CAAC,UAAU,GAAG,eAAe,MAAM,CAAC,OAAO,KAAK,EAAE;QAExD,0BAA0B;QAC1B,IAAI,OAAO,WAAW,KAAK,YAAY,WAAW,EAAE;YAClD,eAAe,MAAM,CAAC,YAAY,KAAK,EAAE,GAAG;QAC9C,OAAO;YACL,aAAa,MAAM,CAAC,YAAY,KAAK,EAAE,GAAG;QAC5C;QAEA,uBAAuB;QACvB,WAAW,CAAA,cACT,YAAY,GAAG,CAAC,CAAA;gBACd,IAAI,IAAI,EAAE,KAAK,OAAO,WAAW,EAAE;oBACjC,OAAO;wBAAE,GAAG,GAAG;wBAAE,OAAO;oBAAe;gBACzC;gBACA,IAAI,IAAI,EAAE,KAAK,YAAY,WAAW,EAAE;oBACtC,OAAO;wBAAE,GAAG,GAAG;wBAAE,OAAO;oBAAa;gBACvC;gBACA,OAAO;YACT;IAEJ;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC,qLAAA,CAAA,kBAAe;YAAC,WAAW;sBACzB,QAAQ,GAAG,CAAC,CAAA,uBACX,8OAAC;oBAAoB,WAAU;;sCAC7B,8OAAC;4BAAG,WAAU;sCAAkB,OAAO,KAAK;;;;;;sCAC5C,8OAAC,qLAAA,CAAA,YAAS;4BACR,aAAa,OAAO,EAAE;4BACtB,gBAAgB;4BAChB,kBAAkB;sCAEjB,CAAC,yBACA,8OAAC;oCACE,GAAG,SAAS,cAAc;oCAC3B,KAAK,SAAS,QAAQ;oCACtB,WAAU;;wCAET,OAAO,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM,sBACvB,8OAAC,qLAAA,CAAA,YAAS;gDAER,aAAa,KAAK,EAAE;gDACpB,OAAO;0DAEN,CAAC,yBACA,8OAAC;wDACC,KAAK,SAAS,QAAQ;wDACrB,GAAG,SAAS,cAAc;wDAC1B,GAAG,SAAS,eAAe;wDAC5B,WAAU;kEAET,KAAK,IAAI;;;;;;+CAXT,KAAK,EAAE;;;;;wCAgBf,SAAS,WAAW;;;;;;;;;;;;;mBA/BnB,OAAO,EAAE;;;;;;;;;;;;;;;AAwC7B"}},
    {"offset": {"line": 156, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}