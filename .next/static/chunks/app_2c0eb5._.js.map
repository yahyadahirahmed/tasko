{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/yahya/Documents/FinalYearProject/tasko/app/components/KanbanBoard.tsx"],"sourcesContent":["\"use client\";\nimport dynamic from 'next/dynamic';\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\nimport { useState } from \"react\";\nimport { TaskState } from \"@prisma/client\";\n\ninterface Task {\n  id: string;\n  text: string;\n  state: TaskState;\n}\n\ninterface Column {\n  id: string;\n  title: string;\n  tasks: Task[];\n}\n\n// Prevent SSR for the Kanban board\nconst KanbanBoard = dynamic(() => Promise.resolve(({ initialTasks }: { initialTasks: Task[] }) => {\n  // Initialize columns with tasks\n  const [columns, setColumns] = useState<Column[]>([\n    {\n      id: \"TODO\",\n      title: \"To Do\",\n      tasks: initialTasks.filter(task => task.state === \"ToDo\"),\n    },\n    {\n      id: \"IN_PROGRESS\",\n      title: \"In Progress\",\n      tasks: initialTasks.filter(task => task.state === \"InProgress\"),\n    },\n    {\n      id: \"COMPLETED\",\n      title: \"Completed\",\n      tasks: initialTasks.filter(task => task.state === \"Completed\"),\n    },\n  ]);\n\n  const onDragEnd = (result: any) => {\n    const { source, destination } = result;\n\n    // If dropped outside a droppable area\n    if (!destination) return;\n\n    // If dropped in the same position\n    if (\n      source.droppableId === destination.droppableId &&\n      source.index === destination.index\n    ) {\n      return;\n    }\n\n    // Find source and destination columns\n    const sourceColumn = columns.find(col => col.id === source.droppableId);\n    const destColumn = columns.find(col => col.id === destination.droppableId);\n\n    if (!sourceColumn || !destColumn) return;\n\n    // Create new arrays\n    const newSourceTasks = Array.from(sourceColumn.tasks);\n    const newDestTasks = source.droppableId === destination.droppableId\n      ? newSourceTasks\n      : Array.from(destColumn.tasks);\n\n    // Remove task from source\n    const [movedTask] = newSourceTasks.splice(source.index, 1);\n\n    // Add task to destination\n    if (source.droppableId === destination.droppableId) {\n      newSourceTasks.splice(destination.index, 0, movedTask);\n    } else {\n      newDestTasks.splice(destination.index, 0, movedTask);\n    }\n\n    // Update columns state\n    setColumns(prevColumns => \n      prevColumns.map(col => {\n        if (col.id === source.droppableId) {\n          return { ...col, tasks: newSourceTasks };\n        }\n        if (col.id === destination.droppableId) {\n          return { ...col, tasks: newDestTasks };\n        }\n        return col;\n      })\n    );\n  };\n\n  return (\n    <div className=\"flex gap-4 p-4\">\n      <DragDropContext onDragEnd={onDragEnd}>\n        {columns.map(column => (\n          <div key={column.id} className=\"bg-gray-100 p-4 rounded-lg w-80\">\n            <h2 className=\"font-bold mb-4\">{column.title}</h2>\n            <Droppable \n              droppableId={column.id} \n              isDropDisabled={false}\n              isCombineEnabled={false}\n              ignoreContainerClipping={false}\n            >\n              {(provided) => (\n                <div\n                  {...provided.droppableProps}\n                  ref={provided.innerRef}\n                  className=\"min-h-[500px]\"\n                >\n                  {column.tasks.map((task, index) => (\n                    <Draggable\n                      key={task.id}\n                      draggableId={String(task.id)}\n                      index={index}\n                    >\n                      {(provided) => (\n                        <div\n                          ref={provided.innerRef}\n                          {...provided.draggableProps}\n                          {...provided.dragHandleProps}\n                          className=\"bg-white p-4 mb-2 rounded shadow\"\n                        >\n                          {task.text}\n                        </div>\n                      )}\n                    </Draggable>\n                  ))}\n                  {provided.placeholder}\n                </div>\n              )}\n            </Droppable>\n          </div>\n        ))}\n      </DragDropContext>\n    </div>\n  );\n}), { ssr: false });\n\nexport default KanbanBoard; "],"names":[],"mappings":";;;;AACA;AAEA;AADA;;;AAFA;;;;AAkBA,mCAAmC;AACnC,MAAM,cAAc,CAAA,GAAA,kKAAA,CAAA,UAAO,AAAD,OAAE,IAAM,QAAQ,OAAO,IAAC,CAAC,EAAE,YAAY,EAA4B;;QAC3F,gCAAgC;QAChC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAY;YAC/C;gBACE,IAAI;gBACJ,OAAO;gBACP,OAAO,aAAa,MAAM;4CAAC,CAAA,OAAQ,KAAK,KAAK,KAAK;;YACpD;YACA;gBACE,IAAI;gBACJ,OAAO;gBACP,OAAO,aAAa,MAAM;4CAAC,CAAA,OAAQ,KAAK,KAAK,KAAK;;YACpD;YACA;gBACE,IAAI;gBACJ,OAAO;gBACP,OAAO,aAAa,MAAM;4CAAC,CAAA,OAAQ,KAAK,KAAK,KAAK;;YACpD;SACD;QAED,MAAM,YAAY,CAAC;YACjB,MAAM,EAAE,MAAM,EAAE,WAAW,EAAE,GAAG;YAEhC,sCAAsC;YACtC,IAAI,CAAC,aAAa;YAElB,kCAAkC;YAClC,IACE,OAAO,WAAW,KAAK,YAAY,WAAW,IAC9C,OAAO,KAAK,KAAK,YAAY,KAAK,EAClC;gBACA;YACF;YAEA,sCAAsC;YACtC,MAAM,eAAe,QAAQ,IAAI,CAAC,CAAA,MAAO,IAAI,EAAE,KAAK,OAAO,WAAW;YACtE,MAAM,aAAa,QAAQ,IAAI,CAAC,CAAA,MAAO,IAAI,EAAE,KAAK,YAAY,WAAW;YAEzE,IAAI,CAAC,gBAAgB,CAAC,YAAY;YAElC,oBAAoB;YACpB,MAAM,iBAAiB,MAAM,IAAI,CAAC,aAAa,KAAK;YACpD,MAAM,eAAe,OAAO,WAAW,KAAK,YAAY,WAAW,GAC/D,iBACA,MAAM,IAAI,CAAC,WAAW,KAAK;YAE/B,0BAA0B;YAC1B,MAAM,CAAC,UAAU,GAAG,eAAe,MAAM,CAAC,OAAO,KAAK,EAAE;YAExD,0BAA0B;YAC1B,IAAI,OAAO,WAAW,KAAK,YAAY,WAAW,EAAE;gBAClD,eAAe,MAAM,CAAC,YAAY,KAAK,EAAE,GAAG;YAC9C,OAAO;gBACL,aAAa,MAAM,CAAC,YAAY,KAAK,EAAE,GAAG;YAC5C;YAEA,uBAAuB;YACvB,WAAW,CAAA,cACT,YAAY,GAAG,CAAC,CAAA;oBACd,IAAI,IAAI,EAAE,KAAK,OAAO,WAAW,EAAE;wBACjC,OAAO;4BAAE,GAAG,GAAG;4BAAE,OAAO;wBAAe;oBACzC;oBACA,IAAI,IAAI,EAAE,KAAK,YAAY,WAAW,EAAE;wBACtC,OAAO;4BAAE,GAAG,GAAG;4BAAE,OAAO;wBAAa;oBACvC;oBACA,OAAO;gBACT;QAEJ;QAEA,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC,wLAAA,CAAA,kBAAe;gBAAC,WAAW;0BACzB,QAAQ,GAAG,CAAC,CAAA,uBACX,6LAAC;wBAAoB,WAAU;;0CAC7B,6LAAC;gCAAG,WAAU;0CAAkB,OAAO,KAAK;;;;;;0CAC5C,6LAAC,wLAAA,CAAA,YAAS;gCACR,aAAa,OAAO,EAAE;gCACtB,gBAAgB;gCAChB,kBAAkB;gCAClB,yBAAyB;0CAExB,CAAC,yBACA,6LAAC;wCACE,GAAG,SAAS,cAAc;wCAC3B,KAAK,SAAS,QAAQ;wCACtB,WAAU;;4CAET,OAAO,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM,sBACvB,6LAAC,wLAAA,CAAA,YAAS;oDAER,aAAa,OAAO,KAAK,EAAE;oDAC3B,OAAO;8DAEN,CAAC,yBACA,6LAAC;4DACC,KAAK,SAAS,QAAQ;4DACrB,GAAG,SAAS,cAAc;4DAC1B,GAAG,SAAS,eAAe;4DAC5B,WAAU;sEAET,KAAK,IAAI;;;;;;mDAXT,KAAK,EAAE;;;;;4CAgBf,SAAS,WAAW;;;;;;;;;;;;;uBAhCnB,OAAO,EAAE;;;;;;;;;;;;;;;IAyC7B,qCAAI;IAAE,KAAK;AAAM;;uCAEF"}},
    {"offset": {"line": 170, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}